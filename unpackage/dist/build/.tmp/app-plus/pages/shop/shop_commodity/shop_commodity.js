(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop_commodity/shop_commodity"],{"159d":function(t,o,e){"use strict";var n=e("b1a4"),a=e.n(n);a.a},4051:function(t,o,e){"use strict";(function(t,n){function a(t){return r(t)||i(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var o=0,e=new Array(t.length);o<t.length;o++)e[o]=t[o];return e}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c=function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"003c"))},u={components:{uniLoadMore:c},data:function(){return{keyWord:"",currentLoadFlag:!0,newsList:[],storeId:"",storeInfo:{merInfo:{views:0}},tabIndex:0,scrollInto:"",isKeep:!1,tabBars:[{title:"店铺首页",id:"shouye"},{title:"全部宝贝",id:"baobei"},{title:"新品上架",id:"xingping"},{title:"活动促销",id:"huodong"}]}},onLoad:function(t){this.storeId=t.storeId,this.getStoreInfo(),this.initInfo()},methods:{initInfo:function(){var t=this;this.tabBars.forEach(function(o){t.newsList.push({data:[],refreshText:"",loadingStatus:"more",currentPage:1,pageSize:6,loadingFlag:!1})})},loadMore:function(){var t=this;this.currentLoadFlag&&(this.currentLoadFlag=!1,this.newsList[this.tabIndex].loadingStatus="loading",this.newsList[this.tabIndex].loadingFlag=!0,this.getList(this.tabIndex)),setTimeout(function(){t.currentLoadFlag=!0},500)},ontabtap:function(t){var o=t.target.dataset.current||t.currentTarget.dataset.current;this.tabIndex=o},ontabchange:function(t){var o=t.target.current||t.detail.current;this.tabIndex=o,this.scrollInto=this.tabBars[o].id,0===this.newsList[o].data.length&&this.getList(o)},getList:function(o){console.log(t("请求",o," at pages\\shop\\shop_commodity\\shop_commodity.vue:178"));var e=this;0!=o&&e.baseGet(e.U({c:"store_api",a:"get_product_list",q:{mid:e.storeId,news:2==o?1:"",benefit:3==o?1:"",page:e.newsList[o].currentPage,limit:e.newsList[o].pageSize}}),function(n){0!=n.data.length?(e.newsList[o].data=[].concat(a(e.newsList[o].data),a(n.data)),e.newsList[o].currentPage++,console.log(t(e.newsList[o]," at pages\\shop\\shop_commodity\\shop_commodity.vue:203"))):e.newsList[o].loadingStatus="noMore"},function(o){console.log(t(o," at pages\\shop\\shop_commodity\\shop_commodity.vue:206"))},!0)},getStoreInfo:function(){var o=this;o.baseGet(o.U({c:"merchant_api",a:"merchant_info",q:{id:o.storeId}}),function(e){o.storeInfo=e.data,o.isKeep=e.data.merInfo.is_collect,console.log(t(o.storeInfo," at pages\\shop\\shop_commodity\\shop_commodity.vue:225"))},function(o){console.log(t(o," at pages\\shop\\shop_commodity\\shop_commodity.vue:228"))},!0)},keep:function(){var o=this;this.isLogin()&&(console.log(t(this.isKeep," at pages\\shop\\shop_commodity\\shop_commodity.vue:238")),null!=this.isKeep?o.basePost(o.U({c:"merchant_api",a:"uncollect_merchant"}),{merId:o.storeId},function(e){console.log(t(e," at pages\\shop\\shop_commodity\\shop_commodity.vue:247")),o.isKeep=null},function(o){console.log(t(o," at pages\\shop\\shop_commodity\\shop_commodity.vue:251"))}):o.basePost(o.U({c:"merchant_api",a:"collect_merchant"}),{merId:o.storeId},function(e){console.log(t(e," at pages\\shop\\shop_commodity\\shop_commodity.vue:262")),o.isKeep="1"},function(o){console.log(t(o," at pages\\shop\\shop_commodity\\shop_commodity.vue:266"))}))},back:function(){n.navigateBack()},search:function(){console.log(t(" at pages\\shop\\shop_commodity\\shop_commodity.vue:279")),n.navigateTo({url:"/pages/list/search_list/search_list?keyWord=".concat(this.keyWord,"&storeId=").concat(this.storeId)})},detail:function(t){var o=t.currentTarget.dataset.id;n.navigateTo({url:"/pages/list/goode_details/goode_details?id="+o})}}};o.default=u}).call(this,e("0de9")["default"],e("6e42")["default"])},"579b":function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement;t._self._c},a=[];e.d(o,"a",function(){return n}),e.d(o,"b",function(){return a})},"5e85":function(t,o,e){"use strict";(function(t){e("4303"),e("921b");n(e("66fd"));var o=n(e("ce3a"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},b1a4:function(t,o,e){},ce3a:function(t,o,e){"use strict";e.r(o);var n=e("579b"),a=e("d4af");for(var s in a)"default"!==s&&function(t){e.d(o,t,function(){return a[t]})}(s);e("159d");var i=e("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);o["default"]=r.exports},d4af:function(t,o,e){"use strict";e.r(o);var n=e("4051"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(o,t,function(){return n[t]})}(s);o["default"]=a.a}},[["5e85","common/runtime","common/vendor"]]]);