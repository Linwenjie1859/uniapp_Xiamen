(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/goode_details/goode_details"],{4549:function(o,t,e){"use strict";e.r(t);var n=e("f596"),s=e.n(n);for(var i in n)"default"!==i&&function(o){e.d(t,o,function(){return n[o]})}(i);t["default"]=s.a},"6c52":function(o,t,e){"use strict";(function(o){e("4303"),e("921b");n(e("66fd"));var t=n(e("ff71"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("6e42")["createPage"])},7312:function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement;o._self._c},s=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return s})},"8fbd":function(o,t,e){},daca:function(o,t,e){"use strict";var n=e("8fbd"),s=e.n(n);s.a},f596:function(o,t,e){"use strict";(function(o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"89db"))},i={components:{uniPopup:s},data:function(){return{showBack:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:1e3,beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,anchorlist:[],selectAnchor:0,isKeep:!1,show:!1,type:"",list:["1","2","3","4","5","6","7","8","9","10"],content:"顶部弹 popup",currentGoodsId:0,goodsInfo:{storeInfo:{price:0}},currentNum:1}},onLoad:function(o){this.currentGoodsId=o.id,this.getGoodInfo()},onReady:function(){this.calcAnchor()},onPageScroll:function(o){this.selectAnchor=o.scrollTop>=this.anchorlist[2].top?2:o.scrollTop>=this.anchorlist[1].top?1:0;var t=375;o.scrollTop=o.scrollTop>t?375:o.scrollTop,this.afterHeaderOpacity=o.scrollTop*(1/t),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=o.scrollTop>0?10:11,this.afterHeaderzIndex=o.scrollTop>0?11:10},methods:{addGoodToCar:function(){var t=this;t.isLogin()&&t.basePost(t.U({c:"auth_api",a:"set_cart"}),{productId:t.goodsInfo.storeInfo.id,merId:t.goodsInfo.mer_id,cartNum:t.currentNum},function(o){200==o.code&&(t.Tips({title:"添加成功,在购物车等亲"}),t.cancel("share"))},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:218"))})},addSubNum:function(o){o<0&&1==this.currentNum?this.Tips({title:"亲，已经不能再减了"}):this.currentNum+=o},collectGood:function(){var t=this;this.isLogin()&&(console.log(o(this.isKeep," at pages\\list\\goode_details\\goode_details.vue:236")),this.isKeep?t.basePost(t.U({c:"store_api",a:"uncollect_product"}),{productId:t.currentGoodsId},function(o){200==o.code&&(t.isKeep=!1)},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:250"))}):t.basePost(t.U({c:"store_api",a:"collect_product"}),{productId:t.currentGoodsId},function(o){200==o.code&&(t.isKeep=!0)},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:266"))}))},getGoodInfo:function(){var t=this;t.baseGet(t.U({c:"store_api",a:"details",q:{id:t.currentGoodsId}}),function(e){t.goodsInfo=e.data,t.isKeep=e.data.storeInfo.userCollect,console.log(o(t.goodsInfo," at pages\\list\\goode_details\\goode_details.vue:286"))},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:289"))},!0)},back:function(){n.navigateBack()},purchase:function(t){var e=this;e.baseGet(e.U({c:"auth_api",a:"now_buy",q:{productId:e.goodsInfo.storeInfo.id,merId:e.goodsInfo.mer_id,cartNum:e.currentNum}}),function(t){console.log(o(" at pages\\list\\goode_details\\goode_details.vue:312")),n.navigateTo({url:"/pages/user/confirm_order/confirm_order?listId="+t.data.cartId})},function(o){-1!=o.msg.indexOf("该产品库存不足")&&e.Tips({title:o.msg})},!0)},commodity:function(){console.log(o(this.goodsInfo.mer_id," at pages\\list\\goode_details\\goode_details.vue:326")),n.navigateTo({url:"/pages/shop/shop_commodity/shop_commodity?storeId="+this.goodsInfo.mer_id})},cart:function(){n.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},details:function(o){n.navigateTo({url:"/pages/shop/comments_details/comments_details"})},toAnchor:function(o){this.selectAnchor=o,n.pageScrollTo({scrollTop:this.anchorlist[o].top,duration:200})},calcAnchor:function(){var o=this;this.anchorlist=[{name:"商品",top:0},{name:"评价",top:0},{name:"详情",top:0}];var t=n.createSelectorQuery().select("#comments");t.boundingClientRect(function(t){var e=0;e=plus.navigator.getStatusbarHeight();var s=n.upx2px(100);o.anchorlist[1].top=t.top-s-e,o.anchorlist[2].top=t.bottom-s-e}).exec()},togglePopup:function(o,t){switch(o){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=o,"tip"===t?this.show=!0:this.$refs[t].open()},cancel:function(o){"tip"!==o?this.$refs[o].close():this.show=!1},change:function(t){console.log(o(t.show," at pages\\list\\goode_details\\goode_details.vue:410"))}}};t.default=i}).call(this,e("0de9")["default"],e("6e42")["default"])},ff71:function(o,t,e){"use strict";e.r(t);var n=e("7312"),s=e("4549");for(var i in s)"default"!==i&&function(o){e.d(t,o,function(){return s[o]})}(i);e("daca");var a=e("2877"),c=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=c.exports}},[["6c52","common/runtime","common/vendor"]]]);